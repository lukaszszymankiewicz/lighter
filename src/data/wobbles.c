#include "library.h"
#include "../source.h"

wobble_t* wobble_library[WOBBLE_ALL] = { NULL };

wobble_t wobble_no = {
    0,
    { 0.0 }
};

wobble_t wobble_stable = {
    82,
    { 
        0.006, 0.006, 0.009, 0.009, 0.012,
        0.012, 0.017, 0.017, 0.022, 0.022,
        0.027, 0.027, 0.033, 0.033, 0.038,
        0.038, 0.042, 0.042, 0.045, 0.046,
        0.046, 0.045, 0.045, 0.042, 0.042,
        0.038, 0.038, 0.033, 0.033, 0.027,
        0.027, 0.022, 0.022, 0.017, 0.017,
        0.012, 0.012, 0.009, 0.009, 0.0,
        0.0, -0.006, -0.006, -0.009, -0.009,
        -0.012, -0.012, -0.017, -0.017, -0.022,
        -0.022, -0.027, -0.027, -0.033, -0.033,
        -0.038, -0.038, -0.042, -0.042, -0.045,
        -0.045, -0.046, -0.046, -0.045, -0.045,
        -0.042, -0.042, -0.038, -0.038, -0.033,
        -0.033, -0.027, -0.027, -0.022, -0.022,
        -0.017, -0.017, -0.012, -0.012, -0.009,
        -0.009, -0.009
    }
};

wobble_t wobble_walk = {
    15,
    { 
        0.012, 0.054, 0.082, 0.1, 0.082,
        0.054, 0.012, 0.0, -0.012, -0.054,
        -0.082, -0.1, -0.082, -0.054, -0.012,
    }
};

wobble_t wobble_circle = {
    100,
    {
       0.        , 0.03171717, 0.06343434, 0.09515152, 0.12686869,
       0.15858586, 0.19030303, 0.2220202 , 0.25373737, 0.28545455,
       0.31717172, 0.34888889, 0.38060606, 0.41232323, 0.4440404 ,
       0.47575758, 0.50747475, 0.53919192, 0.57090909, 0.60262626,
       0.63434343, 0.66606061, 0.69777778, 0.72949495, 0.76121212,
       0.79292929, 0.82464646, 0.85636364, 0.88808081, 0.91979798,
       0.95151515, 0.98323232, 1.01494949, 1.04666667, 1.07838384,
       1.11010101, 1.14181818, 1.17353535, 1.20525253, 1.2369697 ,
       1.26868687, 1.30040404, 1.33212121, 1.36383838, 1.39555556,
       1.42727273, 1.4589899 , 1.49070707, 1.52242424, 1.55414141,
       1.58585859, 1.61757576, 1.64929293, 1.6810101 , 1.71272727,
       1.74444444, 1.77616162, 1.80787879, 1.83959596, 1.87131313,
       1.9030303 , 1.93474747, 1.96646465, 1.99818182, 2.02989899,
       2.06161616, 2.09333333, 2.12505051, 2.15676768, 2.18848485,
       2.22020202, 2.25191919, 2.28363636, 2.31535354, 2.34707071,
       2.37878788, 2.41050505, 2.44222222, 2.47393939, 2.50565657,
       2.53737374, 2.56909091, 2.60080808, 2.63252525, 2.66424242,
       2.6959596 , 2.72767677, 2.75939394, 2.79111111, 2.82282828,
       2.85454545, 2.88626263, 2.9179798 , 2.94969697, 2.98141414,
       3.01313131, 3.04484848, 3.07656566, 3.10828283, 3.14      
    }
};

void LIB_read_wobble_blueprint(
    int       id,
    wobble_t* wobble
) {
    if (wobble) {
        printf("WOBBLE ID = %d read\n", id);
    }
    wobble_library[id]      = wobble;
};

void LIB_create_wobble_library(
) {
    LIB_read_wobble_blueprint(WOBBLE_NO, &wobble_no);
    LIB_read_wobble_blueprint(WOBBLE_STABLE, &wobble_stable);
    LIB_read_wobble_blueprint(WOBBLE_WALKING, &wobble_walk);
    LIB_read_wobble_blueprint(WOBBLE_CIRCLE, &wobble_circle);
}
