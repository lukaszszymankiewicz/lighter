#include "library.h"
#include "../source.h"

wobble_t* wobble_library[WOBBLE_ALL] = { NULL };

wobble_t wobble_no = {
    0,
    { 0.0 }
};

wobble_t wobble_stable = {
    82,
    { 
        0.006, 0.006, 0.009, 0.009, 0.012,
        0.012, 0.017, 0.017, 0.022, 0.022,
        0.027, 0.027, 0.033, 0.033, 0.038,
        0.038, 0.042, 0.042, 0.045, 0.046,
        0.046, 0.045, 0.045, 0.042, 0.042,
        0.038, 0.038, 0.033, 0.033, 0.027,
        0.027, 0.022, 0.022, 0.017, 0.017,
        0.012, 0.012, 0.009, 0.009, 0.0,
        0.0, -0.006, -0.006, -0.009, -0.009,
        -0.012, -0.012, -0.017, -0.017, -0.022,
        -0.022, -0.027, -0.027, -0.033, -0.033,
        -0.038, -0.038, -0.042, -0.042, -0.045,
        -0.045, -0.046, -0.046, -0.045, -0.045,
        -0.042, -0.042, -0.038, -0.038, -0.033,
        -0.033, -0.027, -0.027, -0.022, -0.022,
        -0.017, -0.017, -0.012, -0.012, -0.009,
        -0.009, -0.009
    }
};

wobble_t wobble_walk = {
    15,
    { 
        0.012, 0.054, 0.082, 0.1, 0.082,
        0.054, 0.012, 0.0, -0.012, -0.054,
        -0.082, -0.1, -0.082, -0.054, -0.012,
    }
};

wobble_t wobble_circle = {
    50,
    { 
       0.        , 0.06408163, 0.12816327, 0.1922449 , 0.25632653,
       0.32040816, 0.3844898 , 0.44857143, 0.51265306, 0.57673469,
       0.64081633, 0.70489796, 0.76897959, 0.83306122, 0.89714286,
       0.96122449, 1.02530612, 1.08938776, 1.15346939, 1.21755102,
       1.28163265, 1.34571429, 1.40979592, 1.47387755, 1.53795918,
       1.60204082, 1.66612245, 1.73020408, 1.79428571, 1.85836735,
       1.92244898, 1.98653061, 2.05061224, 2.11469388, 2.17877551,
       2.24285714, 2.30693878, 2.37102041, 2.43510204, 2.49918367,
       2.56326531, 2.62734694, 2.69142857, 2.7555102 , 2.81959184,
       2.88367347, 2.9477551 , 3.01183673, 3.07591837, 3.14      
    }
};

void LIB_read_wobble_blueprint(
    int       id,
    wobble_t* wobble
) {
    if (wobble) {
        printf("WOBBLE ID = %d read\n", id);
    }
    wobble_library[id]      = wobble;
};

void LIB_create_wobble_library(
) {
    LIB_read_wobble_blueprint(WOBBLE_NO, &wobble_no);
    LIB_read_wobble_blueprint(WOBBLE_STABLE, &wobble_stable);
    LIB_read_wobble_blueprint(WOBBLE_WALKING, &wobble_walk);
    LIB_read_wobble_blueprint(WOBBLE_CIRCLE, &wobble_circle);
}
